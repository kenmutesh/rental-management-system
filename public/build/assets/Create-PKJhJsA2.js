import{T as S,l as v,Q as q,m as D,p as h,f as l,a as y,u as r,w as U,F as x,o as a,Z as V,b as s,e as F,d as m,i as n,q as p,t as d,g as i,y as N,s as k}from"./app-IE8USvGh.js";import{r as P}from"./PlusIcon-CJCuB2Z_.js";const C={class:"flex justify-center items-center min-h-screen bg-gray-100 p-4"},L={class:"bg-white shadow-lg rounded-lg w-full max-w-3xl",style:{padding:"2rem"}},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={key:0,class:"text-red-500 text-sm"},B={key:0,class:"text-red-500 text-sm"},E={key:0,class:"text-red-500 text-sm"},M={key:0,class:"text-red-500 text-sm"},A=["value"],O={key:0,class:"text-red-500 text-sm"},Q=["disabled"],Z=["value","disabled"],z={key:0,class:"text-red-500 text-sm"},G={key:0,class:"text-red-500 text-sm"},H={key:0,class:"text-red-500 text-sm"},I={key:0,class:"text-red-500 text-sm"},J={class:"flex justify-center mt-6"},K=["disabled"],R={key:0},W={key:1},ee={__name:"Create",setup(X){const e=S({firstName:"",lastName:"",email:"",phone:"",leaseStartDate:"",accountNumber:"",notes:"",property_id:"",unit_id:""}),u=v({firstName:"",lastName:"",email:"",phone:"",property_id:"",unit_id:"",leaseStartDate:""}),w=()=>(u.value.firstName=e.firstName?"":"First name is required",u.value.lastName=e.lastName?"":"Last name is required",u.value.email=e.email?"":"Email is required",u.value.phone=e.phone?"":"Phone is required",u.value.property_id=e.property_id?"":"Property is required",u.value.unit_id=e.unit_id?"":"Unit is required",u.value.leaseStartDate=e.leaseStartDate?"":"Lease start date is required",Object.values(u.value).every(b=>b==="")),{properties:g}=q().props,c=v([]);D(()=>e.property_id,b=>{if(b){const t=g.data.find(f=>f.id===b);c.value=t?t.units:[],e.unit_id=""}else c.value=[]});const _=()=>{w()&&e.post("/tenants/store",{onFinish:()=>{e.reset()}})};return(b,t)=>{const f=h("app-layout");return a(),l(x,null,[y(r(V),{title:"Create Tenant"}),y(f,null,{default:U(()=>[s("div",C,[s("div",L,[t[20]||(t[20]=s("h1",{class:"text-2xl font-semibold mb-6 text-center"},"Create Tenant",-1)),s("form",{onSubmit:F(_,["prevent"]),class:"space-y-6"},[s("div",T,[s("div",null,[t[9]||(t[9]=s("label",{for:"firstName",class:"block text-sm font-medium text-gray-700"},[m(" First Name "),s("span",{class:"text-red-500"},"*")],-1)),n(s("input",{type:"text",id:"firstName","onUpdate:modelValue":t[0]||(t[0]=o=>r(e).firstName=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,r(e).firstName]]),r(e).errors.firstName?(a(),l("span",j,d(r(e).errors.firstName),1)):i("",!0)]),s("div",null,[t[10]||(t[10]=s("label",{for:"lastName",class:"block text-sm font-medium text-gray-700"},[m(" Last Name "),s("span",{class:"text-red-500"},"*")],-1)),n(s("input",{type:"text",id:"lastName","onUpdate:modelValue":t[1]||(t[1]=o=>r(e).lastName=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,r(e).lastName]]),r(e).errors.lastName?(a(),l("span",B,d(r(e).errors.lastName),1)):i("",!0)]),s("div",null,[t[11]||(t[11]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},[m(" Email "),s("span",{class:"text-red-500"},"*")],-1)),n(s("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=o=>r(e).email=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,r(e).email]]),r(e).errors.email?(a(),l("span",E,d(r(e).errors.email),1)):i("",!0)]),s("div",null,[t[12]||(t[12]=s("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},[m(" Phone "),s("span",{class:"text-red-500"},"*")],-1)),n(s("input",{type:"tel",id:"phone","onUpdate:modelValue":t[3]||(t[3]=o=>r(e).phone=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,r(e).phone]]),r(e).errors.phone?(a(),l("span",M,d(r(e).errors.phone),1)):i("",!0)]),s("div",null,[t[14]||(t[14]=s("label",{for:"property",class:"block text-sm font-medium text-gray-700"},[m(" Property "),s("span",{class:"text-red-500"},"*")],-1)),n(s("select",{id:"property","onUpdate:modelValue":t[4]||(t[4]=o=>r(e).property_id=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",required:""},[t[13]||(t[13]=s("option",{value:""},"Select Property",-1)),(a(!0),l(x,null,k(r(g).data,o=>(a(),l("option",{key:o.id,value:o.id},d(o.propertyName),9,A))),128))],512),[[N,r(e).property_id]]),r(e).errors.property_id?(a(),l("span",O,d(r(e).errors.property_id),1)):i("",!0)]),s("div",null,[t[16]||(t[16]=s("label",{for:"unit",class:"block text-sm font-medium text-gray-700"},[m(" Unit "),s("span",{class:"text-red-500"},"*")],-1)),n(s("select",{id:"unit","onUpdate:modelValue":t[5]||(t[5]=o=>r(e).unit_id=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",required:"",disabled:c.value.length===0},[t[15]||(t[15]=s("option",{disabled:"",value:""},"Select Unit",-1)),(a(!0),l(x,null,k(c.value,o=>(a(),l("option",{key:o.id,value:o.id,disabled:o.status==="occupied"},d(o.name)+" - "+d(o.status==="occupied"?"occupied":o.rentAmount),9,Z))),128))],8,Q),[[N,r(e).unit_id]]),r(e).errors.unit_id?(a(),l("span",z,d(r(e).errors.unit_id),1)):i("",!0)]),s("div",null,[t[17]||(t[17]=s("label",{for:"leaseStartDate",class:"block text-sm font-medium text-gray-700"},[m(" Lease Start Date "),s("span",{class:"text-red-500"},"*")],-1)),n(s("input",{type:"date",id:"leaseStartDate","onUpdate:modelValue":t[6]||(t[6]=o=>r(e).leaseStartDate=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,r(e).leaseStartDate]]),r(e).errors.leaseStartDate?(a(),l("span",G,d(r(e).errors.leaseStartDate),1)):i("",!0)]),s("div",null,[t[18]||(t[18]=s("label",{for:"account_number",class:"block text-sm font-medium text-gray-700"},[m(" Account Number "),s("span",{class:"text-gray-500"},"(optional)")],-1)),n(s("input",{type:"text",id:"account_number","onUpdate:modelValue":t[7]||(t[7]=o=>r(e).accountNumber=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",min:"1",max:"31"},null,512),[[p,r(e).accountNumber]]),r(e).errors.accountNumber?(a(),l("span",H,d(r(e).errors.accountNumber),1)):i("",!0)])]),s("div",null,[t[19]||(t[19]=s("label",{for:"notes",class:"block text-sm font-medium text-gray-700"},"Notes",-1)),n(s("textarea",{id:"notes","onUpdate:modelValue":t[8]||(t[8]=o=>r(e).notes=o),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500",rows:"3"},null,512),[[p,r(e).notes]]),r(e).errors.notes?(a(),l("span",I,d(r(e).errors.notes),1)):i("",!0)]),s("div",J,[s("button",{type:"submit",class:"flex justify-between px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-300 ease-in-out",disabled:r(e).processing},[y(r(P),{class:"w-5 h-5 mr-2"}),r(e).processing?(a(),l("span",W,"Processing...")):(a(),l("span",R,"Submit"))],8,K)])],32)])])]),_:1})],64)}}};export{ee as default};
