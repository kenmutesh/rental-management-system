import{Q as D,l as b,T as V,C as E,p as C,o as n,f as d,a as x,u as a,Z as T,w as I,b as t,t as p,e as M,d as u,i as s,q as i,g as c,y as P,F as f,s as R}from"./app-CBCFuNEC.js";import{r as S}from"./PlusIcon-DqAHAPAF.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const B={class:"max-w-6xl mx-auto py-12"},F={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6"},j={class:"text-xl font-bold mb-6 text-gray-900 dark:text-gray-100"},z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},A={key:0,class:"text-red-600 dark:text-red-400 text-sm"},L={key:0,class:"text-red-600 dark:text-red-400 text-sm"},Q={key:0,class:"text-red-600 dark:text-red-400 text-sm"},W=["value"],Z=["value"],G={class:"col-span-full"},H={class:"flex items-center justify-between"},J=["disabled"],K={key:0,class:"flex items-center"},O={key:1,class:"flex"},X={__name:"Create",setup(Y){const l=D().props,m=b(!1),g=b(!1),k=b([...Array(28).keys()].map(y=>y+1)),r=V({propertyName:"",invoicingDay:"",smsReminderDay:"",totalUnits:"",city:"",waterRate:"",electricityRate:"",mpesaPaybill:"",mpesaTillNumber:"",penaltyPercentage:"",streetName:"",paymentInstructions:"",errors:{}});E(()=>{l.property&&(g.value=!0,r.propertyName=l.property.propertyName,r.totalUnits=l.property.totalUnits,r.city=l.property.city,r.waterRate=l.property.waterRate,r.electricityRate=l.property.electricityRate,r.mpesaPaybill=l.property.mpesaPaybill,r.mpesaTillNumber=l.property.mpesaTillNumber,r.penaltyPercentage=l.property.penaltyPercentage,r.streetName=l.property.streetName,r.invoicingDay=l.property.invoicingDay,r.smsReminderDay=l.property.smsReminderDay,r.paymentInstructions=l.property.paymentInstructions)});const U=async()=>{m.value=!0,r.errors={};try{g.value?await r.put(route("properties.update",l.property.id)):await r.post(route("properties.store"))}catch(y){console.error(y),r.errors=y.response.data.errors||{}}finally{m.value=!1}};return(y,e)=>{const h=C("app-layout");return n(),d(f,null,[x(a(T),{title:"Create/Edit Property"}),x(h,null,{default:I(()=>{var w,v,N;return[t("div",B,[t("div",F,[t("h2",j,p(g.value?"Edit Property":"Create Property"),1),t("form",{onSubmit:M(U,["prevent"])},[t("div",z,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"propertyName"},[u(" Property Name "),t("span",{class:"text-red-500"},"*")],-1)),s(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a(r).propertyName=o),type:"text",id:"propertyName",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter property name",required:""},null,512),[[i,a(r).propertyName]]),(w=a(r).errors)!=null&&w.propertyName?(n(),d("div",A,p(a(r).errors.propertyName),1)):c("",!0)]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"totalUnits"},[u(" Total Units "),t("span",{class:"text-red-500"},"*")],-1)),s(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a(r).totalUnits=o),type:"number",id:"totalUnits",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter total units",required:"",min:"1"},null,512),[[i,a(r).totalUnits]]),(v=a(r).errors)!=null&&v.totalUnits?(n(),d("div",L,p(a(r).errors.totalUnits),1)):c("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"city"},[u(" City "),t("span",{class:"text-red-500"},"*")],-1)),s(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a(r).city=o),type:"text",id:"city",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter city",required:""},null,512),[[i,a(r).city]]),(N=a(r).errors)!=null&&N.city?(n(),d("div",Q,p(a(r).errors.city),1)):c("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"streetName"}," Street Name ",-1)),s(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>a(r).streetName=o),type:"text",id:"streetName",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter street name"},null,512),[[i,a(r).streetName]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"invoicingDate"},[u(" Invoicing Day (1-28) "),t("span",{class:"text-red-500"},"*")],-1)),s(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>a(r).invoicingDay=o),id:"invoicingDate",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",required:""},[e[16]||(e[16]=t("option",{value:"",disabled:""},"Select a day",-1)),(n(!0),d(f,null,R(k.value,o=>(n(),d("option",{key:o,value:o},p(o),9,W))),128))],512),[[P,a(r).invoicingDay]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"smsReminderDate"},[u(" SMS Reminder Day (1-28) "),t("span",{class:"text-red-500"},"*")],-1)),s(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>a(r).smsReminderDay=o),id:"smsReminderDate",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",required:""},[e[18]||(e[18]=t("option",{value:"",disabled:""},"Select a day",-1)),(n(!0),d(f,null,R(k.value,o=>(n(),d("option",{key:o,value:o},p(o),9,Z))),128))],512),[[P,a(r).smsReminderDay]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"waterRate"}," Water Rate (per unit) ",-1)),s(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>a(r).waterRate=o),type:"number",id:"waterRate",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter water rate"},null,512),[[i,a(r).waterRate]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"electricityRate"}," Electricity Rate (per unit) ",-1)),s(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>a(r).electricityRate=o),type:"number",id:"electricityRate",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter electricity rate"},null,512),[[i,a(r).electricityRate]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"mpesaPaybill"}," M-Pesa Paybill ",-1)),s(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>a(r).mpesaPaybill=o),type:"text",id:"mpesaPaybill",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter M-Pesa paybill number"},null,512),[[i,a(r).mpesaPaybill]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"mpesaTillNumber"}," M-Pesa Till Number ",-1)),s(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>a(r).mpesaTillNumber=o),type:"text",id:"mpesaTillNumber",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter M-Pesa till number"},null,512),[[i,a(r).mpesaTillNumber]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"penaltyPercentage"}," Penalty Percentage (%) ",-1)),s(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>a(r).penaltyPercentage=o),type:"number",id:"penaltyPercentage",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter penalty percentage"},null,512),[[i,a(r).penaltyPercentage]])]),t("div",G,[e[25]||(e[25]=t("label",{class:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",for:"paymentInstructions"}," Payment Instructions ",-1)),s(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=o=>a(r).paymentInstructions=o),id:"paymentInstructions",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:bg-gray-700 dark:text-gray-300 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter payment instructions"},null,512),[[i,a(r).paymentInstructions]])])]),t("div",H,[t("button",{type:"submit",class:"bg-blue-500 dark:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline hover:bg-blue-600 dark:hover:bg-blue-700",disabled:m.value},[m.value?(n(),d("span",K,e[26]||(e[26]=[t("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 100 8v4a8 8 0 01-8-8z"})],-1),u(" Saving... ")]))):(n(),d("span",O,[x(a(S),{class:"w-5 h-5 mr-2"}),e[27]||(e[27]=u()),t("span",null,p(g.value?"Update Property":"Create Property"),1)]))],8,J)])],32)])])]}),_:1})],64)}}},re=q(X,[["__scopeId","data-v-1d288813"]]);export{re as default};
