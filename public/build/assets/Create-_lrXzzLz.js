import{Q as h,l as v,T as U,B as k,p as R,f as i,a as b,u as r,w as E,F as V,o as p,Z as T,b as t,t as d,e as C,d as u,i as s,q as n,g as f}from"./app-IE8USvGh.js";import{r as I}from"./PlusIcon-CJCuB2Z_.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"max-w-6xl mx-auto py-12"},S={class:"bg-white shadow-md rounded-lg p-6"},q={class:"text-xl font-bold mb-6"},F={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},D={key:0,class:"text-red-600 text-sm"},j={key:0,class:"text-red-600 text-sm"},z={key:0,class:"text-red-600 text-sm"},Q={class:"col-span-full"},W={class:"flex items-center justify-between"},Z=["disabled"],A={key:0,class:"flex items-center"},G={key:1,class:"flex"},H={__name:"Create",setup(J){const a=h().props,y=v(!1),m=v(!1),o=U({propertyName:"",totalUnits:"",city:"",waterRate:"",electricityRate:"",mpesaPaybill:"",mpesaTillNumber:"",penaltyPercentage:"",streetName:"",paymentInstructions:"",errors:{}});k(()=>{a.property&&(m.value=!0,o.propertyName=a.property.propertyName,o.totalUnits=a.property.totalUnits,o.city=a.property.city,o.waterRate=a.property.waterRate,o.electricityRate=a.property.electricityRate,o.mpesaPaybill=a.property.mpesaPaybill,o.mpesaTillNumber=a.property.mpesaTillNumber,o.penaltyPercentage=a.property.penaltyPercentage,o.streetName=a.property.streetName,o.paymentInstructions=a.property.paymentInstructions)});const N=async()=>{y.value=!0,o.errors={};try{m.value?await o.put(route("properties.update",a.property.id)):await o.post(route("properties.store"))}catch(c){console.error(c),o.errors=c.response.data.errors||{}}finally{y.value=!1}};return(c,e)=>{const P=R("app-layout");return p(),i(V,null,[b(r(T),{title:"Create/Edit Property"}),b(P,null,{default:E(()=>{var x,g,w;return[t("div",B,[t("div",S,[t("h2",q,d(m.value?"Edit Property":"Create Property"),1),t("form",{onSubmit:C(N,["prevent"])},[t("div",F,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"propertyName"},[u(" Property Name "),t("span",{class:"text-red-500"},"*")],-1)),s(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r(o).propertyName=l),type:"text",id:"propertyName",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter property name",required:""},null,512),[[n,r(o).propertyName]]),(x=r(o).errors)!=null&&x.propertyName?(p(),i("div",D,d(r(o).errors.propertyName),1)):f("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"totalUnits"},[u(" Total Units "),t("span",{class:"text-red-500"},"*")],-1)),s(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>r(o).totalUnits=l),type:"number",id:"totalUnits",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter total units",required:"",min:"1"},null,512),[[n,r(o).totalUnits]]),(g=r(o).errors)!=null&&g.totalUnits?(p(),i("div",j,d(r(o).errors.totalUnits),1)):f("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"city"},[u(" City "),t("span",{class:"text-red-500"},"*")],-1)),s(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>r(o).city=l),type:"text",id:"city",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter city",required:""},null,512),[[n,r(o).city]]),(w=r(o).errors)!=null&&w.city?(p(),i("div",z,d(r(o).errors.city),1)):f("",!0)]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"streetName"}," Street Name ",-1)),s(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>r(o).streetName=l),type:"text",id:"streetName",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter street name"},null,512),[[n,r(o).streetName]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"waterRate"}," Water Rate (per unit) ",-1)),s(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>r(o).waterRate=l),type:"number",id:"waterRate",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter water rate"},null,512),[[n,r(o).waterRate]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"electricityRate"}," Electricity Rate (per unit) ",-1)),s(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>r(o).electricityRate=l),type:"number",id:"electricityRate",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter electricity rate"},null,512),[[n,r(o).electricityRate]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"mpesaPaybill"}," M-Pesa Paybill ",-1)),s(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>r(o).mpesaPaybill=l),type:"text",id:"mpesaPaybill",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter M-Pesa paybill number"},null,512),[[n,r(o).mpesaPaybill]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"mpesaTillNumber"}," M-Pesa Till Number ",-1)),s(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>r(o).mpesaTillNumber=l),type:"text",id:"mpesaTillNumber",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter M-Pesa till number"},null,512),[[n,r(o).mpesaTillNumber]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"penaltyPercentage"}," Penalty Percentage (%) ",-1)),s(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>r(o).penaltyPercentage=l),type:"number",id:"penaltyPercentage",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter penalty percentage"},null,512),[[n,r(o).penaltyPercentage]])]),t("div",Q,[e[19]||(e[19]=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"paymentInstructions"}," Payment Instructions ",-1)),s(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>r(o).paymentInstructions=l),id:"paymentInstructions",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter payment instructions"},null,512),[[n,r(o).paymentInstructions]])])]),t("div",W,[t("button",{type:"submit",class:"bg-blue-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline hover:bg-blue-600",disabled:y.value},[y.value?(p(),i("span",A,e[20]||(e[20]=[t("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 100 8v4a8 8 0 01-8-8z"})],-1),u(" Saving... ")]))):(p(),i("span",G,[b(r(I),{class:"w-5 h-5 mr-2"}),e[21]||(e[21]=u()),t("span",null,d(m.value?"Update Property":"Create Property"),1)]))],8,Z)])],32)])])]}),_:1})],64)}}},X=M(H,[["__scopeId","data-v-e6103ccc"]]);export{X as default};
