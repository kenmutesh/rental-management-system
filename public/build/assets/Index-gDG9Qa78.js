import{Q as m,l as n,T as M,p as S,o as p,f as b,a as g,u as o,w as V,F as x,Z as F,b as e,e as T,i as l,q as c,v as q,y as E,t as d,s as N}from"./app-Cd6mMTGJ.js";/* empty css            */const A={class:"max-w-6xl mx-auto py-12"},B={class:"bg-white shadow-md rounded-lg p-6 dark:bg-gray-800"},D={class:"mb-4"},L={class:"mb-4"},P={for:"status",class:"inline-flex items-center"},$={class:"mb-4"},I={class:"mb-4"},K={type:"submit",class:"w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600"},O={class:"mt-8"},Q={class:"min-w-full border border-gray-300 dark:border-gray-600"},R={class:"px-4 py-2 border dark:text-gray-100 dark:border-gray-600"},Z={class:"px-4 py-2 border dark:text-gray-100 dark:border-gray-600"},j={class:"px-4 py-2 border dark:text-gray-100 dark:border-gray-600"},z={class:"px-4 py-2 border dark:text-gray-100 dark:border-gray-600"},G={class:"px-4 py-2 border dark:text-gray-100 dark:border-gray-600"},H={class:"px-4 py-2 border dark:text-gray-100 dark:border-gray-600 flex gap-3"},J=["onClick"],W=["onClick"],te={__name:"Index",setup(X){const{utilities:k}=m().props,u=n(k),i=n(!1),y=n(!1),r=M({id:null,name:"",status:!1,fee_type:"monthly",price:null}),f=async()=>{y.value=!0,r.errors={};try{i.value?await r.put(route("utilities.update",r.id)):await r.post(route("utilities.store")),u.value=m().props.utilities,v()}catch(a){console.error(a),r.errors=a.response.data.errors||{}}finally{y.value=!1}},v=()=>{r.reset(),i.value=!1},_=a=>{r.id=a.id,r.name=a.name,r.status=!!a.status,r.fee_type=a.fee_type,r.price=a.price,i.value=!0},h=async a=>{await r.post(route("utilities.delete",a.id))};return(a,t)=>{const w=S("app-layout");return p(),b(x,null,[g(o(F),{title:"Utilities"}),g(w,null,{default:V(()=>[e("div",A,[e("div",B,[t[11]||(t[11]=e("h1",{class:"text-2xl font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Manage Utilities",-1)),e("form",{onSubmit:T(f,["prevent"])},[e("div",D,[t[4]||(t[4]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Utility Name",-1)),l(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>o(r).name=s),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:""},null,512),[[c,o(r).name]])]),e("div",L,[e("label",P,[l(e("input",{type:"checkbox",id:"status","onUpdate:modelValue":t[1]||(t[1]=s=>o(r).status=s),class:"form-checkbox h-4 w-4 text-blue-600"},null,512),[[q,o(r).status]]),t[5]||(t[5]=e("span",{class:"ml-2 text-gray-700 dark:text-gray-300"},"Active",-1))])]),e("div",$,[t[7]||(t[7]=e("label",{for:"fee_type",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Fee Type",-1)),l(e("select",{id:"fee_type","onUpdate:modelValue":t[2]||(t[2]=s=>o(r).fee_type=s),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:""},t[6]||(t[6]=[e("option",{value:"one_time"},"One Time",-1),e("option",{value:"renewable"},"Renewable",-1),e("option",{value:"monthly"},"Monthly",-1)]),512),[[E,o(r).fee_type]])]),e("div",I,[t[8]||(t[8]=e("label",{for:"price",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Price",-1)),l(e("input",{type:"number",id:"price","onUpdate:modelValue":t[3]||(t[3]=s=>o(r).price=s),step:"0.01",min:"0",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200",required:""},null,512),[[c,o(r).price]])]),e("div",null,[e("button",K,d(o(r).id?"Update Utility":"Add Utility"),1)])],32),e("div",O,[t[10]||(t[10]=e("h2",{class:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"},"Utilities List",-1)),e("table",Q,[t[9]||(t[9]=e("thead",null,[e("tr",{class:"bg-gray-100 dark:bg-gray-700"},[e("th",{class:"px-4 dark:text-gray-100 py-2 border"},"#"),e("th",{class:"px-4 dark:text-gray-100 py-2 border"},"Name"),e("th",{class:"px-4 dark:text-gray-100 py-2 border"},"Status"),e("th",{class:"px-4 dark:text-gray-100 py-2 border"},"Fee Type"),e("th",{class:"px-4 dark:text-gray-100 py-2 border"},"Price"),e("th",{class:"px-4 dark:text-gray-100 py-2 border"},"Actions")])],-1)),e("tbody",null,[(p(!0),b(x,null,N(u.value.data,(s,U)=>(p(),b("tr",{key:s.id,class:"bg-white dark:bg-gray-800"},[e("td",R,d(U+1),1),e("td",Z,d(s.name),1),e("td",j,d(s.status),1),e("td",z,d(s.fee_type),1),e("td",G,"KES "+d(s.price),1),e("td",H,[e("button",{onClick:C=>_(s),class:"text-blue-500 hover:text-blue-700 dark:text-blue-300 dark:hover:text-blue-400"}," Edit ",8,J),e("button",{onClick:C=>h(s),class:"text-red-500 hover:text-red-700 dark:text-red-300 dark:hover:text-red-400"}," Delete ",8,W)])]))),128))])])])])])]),_:1})],64)}}};export{te as default};
